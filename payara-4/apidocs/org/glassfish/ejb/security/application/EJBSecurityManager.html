<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Mon Jun 26 12:13:52 BST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>EJBSecurityManager (Payara Project 4.1.2.172 API)</title>
<meta name="date" content="2017-06-26">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="EJBSecurityManager (Payara Project 4.1.2.172 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EJBSecurityManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/glassfish/ejb/security/application/EjbSecurityComponentInvocationHandler.html" title="class in org.glassfish.ejb.security.application"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/glassfish/ejb/security/application/EjbSecurityProbeProvider.html" title="class in org.glassfish.ejb.security.application"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/glassfish/ejb/security/application/EJBSecurityManager.html" target="_top">Frames</a></li>
<li><a href="EJBSecurityManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.glassfish.ejb.security.application</div>
<h2 title="Class EJBSecurityManager" class="title">Class EJBSecurityManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.glassfish.ejb.security.application.EJBSecurityManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="strong">EJBSecurityManager</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></pre>
<div class="block">This class is used by the EJB server to manage security. All
 the container object only call into this object for managing
 security. This class cannot be subclassed.
 <p/>
 An instance of this class should be created per deployment unit.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Harpreet Singh, monzillo</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#EJBSecurityManager(org.glassfish.ejb.deployment.descriptor.EjbDescriptor,%20org.glassfish.api.invocation.InvocationManager,%20org.glassfish.ejb.security.factory.EJBSecurityManagerFactory)">EJBSecurityManager</a></strong>(<a href="../../../../../org/glassfish/ejb/deployment/descriptor/EjbDescriptor.html" title="class in org.glassfish.ejb.deployment.descriptor">EjbDescriptor</a>&nbsp;ejbDescriptor,
                  <a href="../../../../../org/glassfish/api/invocation/InvocationManager.html" title="interface in org.glassfish.api.invocation">InvocationManager</a>&nbsp;invMgr,
                  <a href="../../../../../org/glassfish/ejb/security/factory/EJBSecurityManagerFactory.html" title="class in org.glassfish.ejb.security.factory">EJBSecurityManagerFactory</a>&nbsp;fact)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#authorize(org.glassfish.api.invocation.ComponentInvocation)">authorize</a></strong>(<a href="../../../../../org/glassfish/api/invocation/ComponentInvocation.html" title="class in org.glassfish.api.invocation">ComponentInvocation</a>&nbsp;compInv)</code>
<div class="block">This method is called by the EJB container to decide whether or not
 a method specified in the Invocation should be allowed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#destroy()">destroy</a></strong>()</code>
<div class="block">Call this method to clean up all the bookeeping
 data-structures in the SM.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#doAsPrivileged(java.security.PrivilegedExceptionAction)">doAsPrivileged</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/security/PrivilegedExceptionAction.html?is-external=true" title="class or interface in java.security">PrivilegedExceptionAction</a>&nbsp;pea)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#getCallerPrincipal()">getCallerPrincipal</a></strong>()</code>
<div class="block">This method returns the Client Principal who initiated the current
 Invocation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#getContextID(org.glassfish.ejb.deployment.descriptor.EjbDescriptor)">getContextID</a></strong>(<a href="../../../../../org/glassfish/ejb/deployment/descriptor/EjbDescriptor.html" title="class in org.glassfish.ejb.deployment.descriptor">EjbDescriptor</a>&nbsp;ejbDesc)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/javax/security/auth/Subject.html?is-external=true" title="class or interface in javax.security.auth">Subject</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#getCurrentSubject()">getCurrentSubject</a></strong>()</code>
<div class="block">This will return the subject associated with the current call.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#getUsesCallerIdentity()">getUsesCallerIdentity</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#invoke(java.lang.reflect.Method,%20boolean,%20java.lang.Object,%20java.lang.Object[])">invoke</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html?is-external=true" title="class or interface in java.lang.reflect">Method</a>&nbsp;beanClassMethod,
      boolean&nbsp;isLocal,
      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o,
      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;oa)</code>
<div class="block">This method is similiar to the runMethod, except it keeps the
 semantics same as the one in reflection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#isCallerInRole(java.lang.String)">isCallerInRole</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role)</code>
<div class="block">This method returns a boolean value indicating whether or not the
 caller is in the specified role.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#loadPolicyConfiguration(org.glassfish.ejb.deployment.descriptor.EjbDescriptor)">loadPolicyConfiguration</a></strong>(<a href="../../../../../org/glassfish/ejb/deployment/descriptor/EjbDescriptor.html" title="class in org.glassfish.ejb.deployment.descriptor">EjbDescriptor</a>&nbsp;eDescriptor)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#postInvoke(org.glassfish.api.invocation.ComponentInvocation)">postInvoke</a></strong>(<a href="../../../../../org/glassfish/api/invocation/ComponentInvocation.html" title="class in org.glassfish.api.invocation">ComponentInvocation</a>&nbsp;inv)</code>
<div class="block">This method is used by Message Driven Bean Container to remove
 the run-as identity information that was set up using the
 preSetRunAsIdentity method</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#preInvoke(org.glassfish.api.invocation.ComponentInvocation)">preInvoke</a></strong>(<a href="../../../../../org/glassfish/api/invocation/ComponentInvocation.html" title="class in org.glassfish.api.invocation">ComponentInvocation</a>&nbsp;inv)</code>
<div class="block">This method is used by MDB Container - Invocation Manager  to setup
 the run-as identity information.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#resetPolicyContext()">resetPolicyContext</a></strong>()</code>
<div class="block">Purge ThreadLocals held by javax.security.jacc.PolicyContext</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/glassfish/ejb/security/application/EJBSecurityManager.html#runMethod(java.lang.reflect.Method,%20java.lang.Object,%20java.lang.Object[])">runMethod</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html?is-external=true" title="class or interface in java.lang.reflect">Method</a>&nbsp;beanClassMethod,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;obj,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;oa)</code>
<div class="block">Runs a business method of an EJB within the bean's policy context.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EJBSecurityManager(org.glassfish.ejb.deployment.descriptor.EjbDescriptor, org.glassfish.api.invocation.InvocationManager, org.glassfish.ejb.security.factory.EJBSecurityManagerFactory)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EJBSecurityManager</h4>
<pre>public&nbsp;EJBSecurityManager(<a href="../../../../../org/glassfish/ejb/deployment/descriptor/EjbDescriptor.html" title="class in org.glassfish.ejb.deployment.descriptor">EjbDescriptor</a>&nbsp;ejbDescriptor,
                  <a href="../../../../../org/glassfish/api/invocation/InvocationManager.html" title="interface in org.glassfish.api.invocation">InvocationManager</a>&nbsp;invMgr,
                  <a href="../../../../../org/glassfish/ejb/security/factory/EJBSecurityManagerFactory.html" title="class in org.glassfish.ejb.security.factory">EJBSecurityManagerFactory</a>&nbsp;fact)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getUsesCallerIdentity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsesCallerIdentity</h4>
<pre>public&nbsp;boolean&nbsp;getUsesCallerIdentity()</pre>
</li>
</ul>
<a name="loadPolicyConfiguration(org.glassfish.ejb.deployment.descriptor.EjbDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadPolicyConfiguration</h4>
<pre>public&nbsp;void&nbsp;loadPolicyConfiguration(<a href="../../../../../org/glassfish/ejb/deployment/descriptor/EjbDescriptor.html" title="class in org.glassfish.ejb.deployment.descriptor">EjbDescriptor</a>&nbsp;eDescriptor)
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="getContextID(org.glassfish.ejb.deployment.descriptor.EjbDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContextID</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getContextID(<a href="../../../../../org/glassfish/ejb/deployment/descriptor/EjbDescriptor.html" title="class in org.glassfish.ejb.deployment.descriptor">EjbDescriptor</a>&nbsp;ejbDesc)</pre>
</li>
</ul>
<a name="authorize(org.glassfish.api.invocation.ComponentInvocation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authorize</h4>
<pre>public&nbsp;boolean&nbsp;authorize(<a href="../../../../../org/glassfish/api/invocation/ComponentInvocation.html" title="class in org.glassfish.api.invocation">ComponentInvocation</a>&nbsp;compInv)</pre>
<div class="block">This method is called by the EJB container to decide whether or not
 a method specified in the Invocation should be allowed.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#authorize(org.glassfish.api.invocation.ComponentInvocation)">authorize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>compInv</code> - invocation object that contains all the details of the
                invocation.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A boolean value indicating if the client should be allowed
         to invoke the EJB.</dd></dl>
</li>
</ul>
<a name="preInvoke(org.glassfish.api.invocation.ComponentInvocation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preInvoke</h4>
<pre>public&nbsp;void&nbsp;preInvoke(<a href="../../../../../org/glassfish/api/invocation/ComponentInvocation.html" title="class in org.glassfish.api.invocation">ComponentInvocation</a>&nbsp;inv)</pre>
<div class="block">This method is used by MDB Container - Invocation Manager  to setup
 the run-as identity information. It has to be coupled with
 the postSetRunAsIdentity method.
 This method is called for EJB/MDB Containers</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#preInvoke(org.glassfish.api.invocation.ComponentInvocation)">preInvoke</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></code></dd>
</dl>
</li>
</ul>
<a name="postInvoke(org.glassfish.api.invocation.ComponentInvocation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postInvoke</h4>
<pre>public&nbsp;void&nbsp;postInvoke(<a href="../../../../../org/glassfish/api/invocation/ComponentInvocation.html" title="class in org.glassfish.api.invocation">ComponentInvocation</a>&nbsp;inv)</pre>
<div class="block">This method is used by Message Driven Bean Container to remove
 the run-as identity information that was set up using the
 preSetRunAsIdentity method</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#postInvoke(org.glassfish.api.invocation.ComponentInvocation)">postInvoke</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></code></dd>
</dl>
</li>
</ul>
<a name="isCallerInRole(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCallerInRole</h4>
<pre>public&nbsp;boolean&nbsp;isCallerInRole(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;role)</pre>
<div class="block">This method returns a boolean value indicating whether or not the
 caller is in the specified role.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#isCallerInRole(java.lang.String)">isCallerInRole</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>role</code> - role name in the form of java.lang.String</dd>
<dt><span class="strong">Returns:</span></dt><dd>A boolean true/false depending on whether or not the caller
         has the specified role.</dd></dl>
</li>
</ul>
<a name="getCallerPrincipal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCallerPrincipal</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>&nbsp;getCallerPrincipal()</pre>
<div class="block">This method returns the Client Principal who initiated the current
 Invocation.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#getCallerPrincipal()">getCallerPrincipal</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>A Principal object of the client who made this invocation.
         or null if the SecurityContext has not been established by the client.</dd></dl>
</li>
</ul>
<a name="destroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#destroy()">SecurityManager</a></code></strong></div>
<div class="block">Call this method to clean up all the bookeeping
 data-structures in the SM.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#destroy()">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></code></dd>
</dl>
</li>
</ul>
<a name="getCurrentSubject()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentSubject</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/javax/security/auth/Subject.html?is-external=true" title="class or interface in javax.security.auth">Subject</a>&nbsp;getCurrentSubject()</pre>
<div class="block">This will return the subject associated with the current call. If the
 run as subject is in effect. It will return that subject. This is done
 to support the JACC specification which says if the runas principal is
 in effect,  that principal should be used for making a component call.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#getCurrentSubject()">getCurrentSubject</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Subject the current subject. Null if this is not the run-as
         case</dd></dl>
</li>
</ul>
<a name="doAsPrivileged(java.security.PrivilegedExceptionAction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doAsPrivileged</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;doAsPrivileged(<a href="http://docs.oracle.com/javase/7/docs/api/java/security/PrivilegedExceptionAction.html?is-external=true" title="class or interface in java.security">PrivilegedExceptionAction</a>&nbsp;pea)
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#doAsPrivileged(java.security.PrivilegedExceptionAction)">doAsPrivileged</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd></dl>
</li>
</ul>
<a name="runMethod(java.lang.reflect.Method, java.lang.Object, java.lang.Object[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runMethod</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;runMethod(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html?is-external=true" title="class or interface in java.lang.reflect">Method</a>&nbsp;beanClassMethod,
               <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;obj,
               <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;oa)
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block">Runs a business method of an EJB within the bean's policy context.
 The original policy context is restored after method execution.
 This method should only be used by com.sun.enterprise.security.SecurityUtil.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>beanClassMethod</code> - the EJB business method</dd><dd><code>obj</code> - the EJB bean instance</dd><dd><code>oa</code> - parameters passed to beanClassMethod</dd>
<dt><span class="strong">Returns:</span></dt><dd>return value from beanClassMethod</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/InvocationTargetException.html?is-external=true" title="class or interface in java.lang.reflect">InvocationTargetException</a></code> - if the underlying method throws an exception</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code> - other throwables in other cases</dd></dl>
</li>
</ul>
<a name="invoke(java.lang.reflect.Method, boolean, java.lang.Object, java.lang.Object[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invoke</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;invoke(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Method.html?is-external=true" title="class or interface in java.lang.reflect">Method</a>&nbsp;beanClassMethod,
            boolean&nbsp;isLocal,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;oa)
              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block">This method is similiar to the runMethod, except it keeps the
 semantics same as the one in reflection. On failure, if the
 exception is caused due to reflection, it returns the
 InvocationTargetException.  This method is called from the
 containers for ejbTimeout, WebService and MDBs.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#invoke(java.lang.reflect.Method,%20boolean,%20java.lang.Object,%20java.lang.Object[])">invoke</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>beanClassMethod,</code> - the bean class method to be invoked</dd><dd><code>isLocal,</code> - true if this invocation is through the local EJB view</dd><dd><code>o</code> - the object on which this method is to be
                         invoked in this case the ejb,</dd><dd><code>oa</code> - the parameters for the method,</dd><dd><code>c,</code> - the container instance
                         can be a null value, where in the container will be queried to
                         find its security manager.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Object, the result of the execution of the method.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd></dl>
</li>
</ul>
<a name="resetPolicyContext()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>resetPolicyContext</h4>
<pre>public&nbsp;void&nbsp;resetPolicyContext()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#resetPolicyContext()">SecurityManager</a></code></strong></div>
<div class="block">Purge ThreadLocals held by javax.security.jacc.PolicyContext</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html#resetPolicyContext()">resetPolicyContext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/sun/enterprise/security/SecurityManager.html" title="interface in com.sun.enterprise.security">SecurityManager</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EJBSecurityManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/glassfish/ejb/security/application/EjbSecurityComponentInvocationHandler.html" title="class in org.glassfish.ejb.security.application"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/glassfish/ejb/security/application/EjbSecurityProbeProvider.html" title="class in org.glassfish.ejb.security.application"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/glassfish/ejb/security/application/EJBSecurityManager.html" target="_top">Frames</a></li>
<li><a href="EJBSecurityManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017. All rights reserved.</small></p>
</body>
</html>
